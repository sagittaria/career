<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:p="http://www.springframework.org/schema/p"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- 声明一个SgtPeppers的bean，将其id设为“compactDisc” 
	<bean id="compactDisc" class="com.springinaction.soundsystemXML.SgtPeppers" />-->

    <!-- 构造器注入bean引用 
	<bean id="cdPlayer" class="com.springinaction.soundsystemXML.CDPlayer">
		<constructor-arg ref="compactDisc" />
	</bean>-->
	
	<!-- 替代方案是用spring的c-命名空间 -->
	<!-- 在头上加入 xmlns:c="http://www.springframework.org/schema/c"
	<bean id="cdPlayer" class="com.springinaction.soundsystemXML.CDPlayer"
        c:cd-ref="compactDisc" />
	 其中cd是CDPlayer的成员名（private CompactDisc cd），此外c-命名空间还有些其他用法，再说
	 -->
	 
    <!-- 将字面量注入到构造器中
	<bean id="compactDisc" class="com.springinaction.soundsystemXML.BlankDisc">
		<constructor-arg value="Sgt. Pepper's Lonely Hearts Club Band" />
		<constructor-arg value="The Beatles" />
	</bean> -->
    <!-- 以前SgtPeppers的title和artist是硬编码的，现在改成个“类似现实中的空磁盘”，可以“刻录” -->
    
    <!-- 如果用c-命名空间的话 
	<bean id="compactDisc" class="com.springinaction.soundsystemXML.BlankDisc">
		<c:_title = Sgt. Pepper ' s Lonely Hearts Club Band " />
		<c:_artist = The Beatles " />
	</bean>-->
	
	<!-- 如果构造器参数是种集合，可以传个null进去
	<bean id="compactDisc" class="com.springinaction.soundsystemXML.BlankDisc">
		<constructor-arg value="Sgt. Pepper's Lonely Hearts Club Band" />
		<constructor-arg value="The Beatles" />
		<constructor-arg>
			<null />
		</constructor-arg>
	</bean>-->
    <!-- 不过这应该不是理想方案，因为“刻录”的时候一般是[确实]写入了若干首歌的 -->
	
	<!-- 所以，可以用<list>将要传入的（第三个）参数（List<String> tracks）声明为一个列表 
	<bean id="compactDisc" class="com.springinaction.soundsystemXML.BlankDisc">
		<constructor-arg value="Sgt. Pepper's Lonely Hearts Club Band" />
		<constructor-arg value="The Beatles" />
		<constructor-arg>
			<list>
				<value>With a Little Help from My Friends</value>
				<value>Lucy in the Sky with Diamonds</value>
				<value>Getting Better</value>
				<value>Fixing a Hole</value>
				<value>Sgt. Pepper's Lonely Hearts Club Band</value>
			</list>
		</constructor-arg>
	</bean>-->
	
	<!-- 这样声明的话，由于没有注入compactDisc(CDPlayer的一个private成员），
	CDPlayerTest.play()会报NPE错，但cdShouldNotBeNull是能过的 ，因为它确实声明了
	<bean id="cdPlayer" class="com.springinaction.soundsystemXML.CDPlayer"/>-->
	
    <!-- 用property标签，把compactDisc装配进去，CDPlayerTest.play()就能过了 
	<bean id="cdPlayer" class="com.springinaction.soundsystemXML.CDPlayer">
		<property name="compactDisc" ref="compactDisc" />
	</bean>-->
	
	<!-- 启用p-命名空间替代上面的property方案 -->
	<bean id="cdPlayer" class="com.springinaction.soundsystemXML.CDPlayer"
	   p:compactDisc-ref="compactDisc"/>

    <!-- p-命名空间与property标签混合使用 -->
    <bean id="compactDisc" class="com.springinaction.soundsystemXML.BlankDisc"
       p:title="Sgt. Pepper's Lonely Hearts Club Band"
       p:artist="The Beatles">
        <property name="tracks">
            <list>
                <value>With a Little Help from My Friends</value>
                <value>Lucy in the Sky with Diamonds</value>
                <value>Getting Better</value>
                <value>Fixing a Hole</value>
                <value>Sgt. Pepper's Lonely Hearts Club Band</value>
            </list>
        </property>
    </bean>
    
</beans>